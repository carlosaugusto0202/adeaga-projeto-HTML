<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AdegaCai√ßara</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap');

    :root {
      --primary-1: #c31432;
      --primary-2: #240b36;
      --accent: #c31432;
      --muted: #777;
      --card-shadow: 0 5px 20px rgba(0,0,0,0.1);
      --bg: #fdfdfd;
      --glass: rgba(255,255,255,0.9);
    }

    * { box-sizing: border-box; }
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      background-color: var(--bg);
      color: #222;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    header {
      background: linear-gradient(135deg, var(--primary-1), var(--primary-2));
      color: white;
      padding: 30px 0;
      text-align: center;
      position: relative;
    }

    header h1 {
      font-size: 2.5rem;
      letter-spacing: 2px;
      margin: 0;
    }

    header p { margin: 6px 0 0 0; opacity: 0.95; }

    nav {
      background-color: #ffffff;
      padding: 15px 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 20;
    }

    nav a {
      color: #333;
      text-decoration: none;
      margin: 0 15px;
      font-weight: 500;
      transition: color 0.3s;
    }

    nav a:hover { color: var(--accent); }

    .container {
      max-width: 1100px;
      margin: 50px auto;
      padding: 0 20px;
    }

    .container h2 { margin-bottom: 20px; }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
    }

    .card {
      background-color: white;
      border-radius: 16px;
      box-shadow: var(--card-shadow);
      overflow: hidden;
      transition: transform 0.3s ease;
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .card:hover { transform: translateY(-8px); }

    .card img {
      width: 100%;
      height: 220px;
      object-fit: cover;
      display: block;
    }

    .card-content {
      padding: 20px;
      text-align: center;
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: auto;
    }

    .card-content h3 {
      margin: 0;
      font-size: 1.15rem;
      color: #222;
      text-transform: uppercase;
      letter-spacing: 0.6px;
    }

    .card-content p {
      color: var(--muted);
      font-size: 0.95rem;
      margin: 0;
      min-height: 38px;
    }

    .card-bottom {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding-top: 12px;
    }

    .price {
      font-weight: 700;
      color: var(--accent);
      font-size: 1.05rem;
    }

    .btn-add {
      background: linear-gradient(135deg, var(--primary-1), var(--primary-2));
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      transition: transform 0.12s ease, opacity 0.12s;
    }

    .btn-add:active { transform: translateY(1px); }
    .btn-add:hover { opacity: 0.95; }

    footer {
      text-align: center;
      padding: 30px 10px;
      background-color: #f8f8f8;
      color: #666;
      font-size: 0.9rem;
      margin-top: 60px;
    }

    footer span { color: var(--accent); font-weight: 600; }

    /* Cart icon fixed top-right */
    .cart-button {
      position: fixed;
      top: 18px;
      right: 18px;
      background: white;
      border-radius: 50%;
      width: 56px;
      height: 56px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
      cursor: pointer;
      z-index: 60;
    }

    .cart-button .icon {
      width: 26px;
      height: 26px;
      display: inline-block;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%23240b36" viewBox="0 0 24 24"><path d="M7 4h-2l-1 2h2l2 9h9l1.5-6h-8.5"></path><circle cx="10" cy="20" r="1.5"/><circle cx="18" cy="20" r="1.5"/></svg>');
      background-size: contain;
      background-repeat: no-repeat;
    }

    .cart-badge {
      position: absolute;
      top: -6px;
      right: -6px;
      background: var(--accent);
      color: #fff;
      font-size: 0.75rem;
      padding: 3px 6px;
      border-radius: 999px;
      font-weight: 700;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }

    /* Sidebar cart */
    .cart-sidebar {
      position: fixed;
      top: 0;
      right: -420px; /* hidden by default */
      width: 380px;
      max-width: 92%;
      height: 100vh;
      background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,250,0.98));
      box-shadow: -8px 0 30px rgba(0,0,0,0.12);
      transition: right 0.28s ease;
      z-index: 70;
      display: flex;
      flex-direction: column;
    }

    .cart-sidebar.open { right: 0; }

    .cart-header {
      padding: 22px;
      border-bottom: 1px solid rgba(0,0,0,0.06);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }

    .cart-header h3 { margin: 0; font-size: 1.15rem; color: var(--primary-2); }
    .cart-close {
      background: transparent;
      border: none;
      font-size: 1.1rem;
      cursor: pointer;
      color: var(--muted);
    }

    .cart-items {
      padding: 16px;
      overflow-y: auto;
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .cart-item {
      display: flex;
      gap: 12px;
      align-items: center;
      background: #fff;
      border-radius: 10px;
      padding: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.04);
    }

    .cart-item img {
      width: 64px;
      height: 64px;
      object-fit: cover;
      border-radius: 8px;
    }

    .cart-item-body { flex: 1; display: flex; flex-direction: column; gap: 6px; }
    .cart-item-body strong { font-size: 0.95rem; text-transform: uppercase; }
    .cart-item-body small { color: var(--muted); }

    .cart-item-controls { display: flex; gap: 8px; align-items: center; }
    .cart-qty {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: #f5f5f5;
      padding: 6px 8px;
      border-radius: 8px;
      font-weight: 600;
    }
    .qty-btn {
      background: transparent;
      border: none;
      cursor: pointer;
      font-weight: 700;
      padding: 0 6px;
      color: var(--primary-2);
    }

    .cart-item-remove {
      background: transparent;
      border: none;
      color: #c00;
      cursor: pointer;
      font-weight: 700;
      font-size: 0.9rem;
    }

    .cart-footer {
      padding: 16px;
      border-top: 1px solid rgba(0,0,0,0.06);
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .cart-total {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 1.15rem;
      font-weight: 700;
      color: var(--primary-2);
    }

    .checkout-btn {
      background: linear-gradient(135deg, var(--primary-1), var(--primary-2));
      color: white;
      padding: 12px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      font-weight: 700;
    }

    /* overlay when cart open */
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.35);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.28s ease;
      z-index: 65;
    }
    .overlay.show {
      opacity: 1;
      pointer-events: auto;
    }

    /* small screens adjustments */
    @media (max-width: 480px) {
      .card img { height: 180px; }
      .cart-sidebar { width: 92%; right: -100%; }
      .cart-sidebar.open { right: 0; }
      .cart-button { width: 52px; height: 52px; top: 12px; right: 12px; }
    }
  </style>
</head>
<body>

  <header>
    <h1>AdegaCai√ßara</h1>
    <p>Bebidas alco√≥licas e n√£o alco√≥licas para todos os gostos üç∑üçπ</p>
  </header>

  <nav>
    <a href="#cerveja">Cerveja</a>
    <a href="#vinho">Vinho</a>
    <a href="#refrigerante">Refrigerante</a>
    <a href="#gin">Gin</a>
    <a href="#whisky">Whisky</a>
  </nav>

  <main>
    <!-- CERVEJA -->
    <section class="container" id="cerveja">
      <h2>üç∫ Cerveja</h2>
      <div class="grid">
        <!-- product cards: each card has data attributes for price and id -->
        <div class="card" data-id="cerveja-skol" data-name="SKOL" data-price="5.00">
          <img src="https://carrefourbrfood.vtexassets.com/arquivos/ids/107629978/cerveja-skol-pilsen-lata-473ml-1.jpg?v=638155200024600000" alt="SKOL">
          <div class="card-content">
            <h3>SKOL</h3>
            <p>Leve, refrescante.</p>
            <div class="card-bottom">
              <div class="price">R$ 5,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="cerveja-heineken" data-name="HEINEKEN" data-price="8.50">
          <img src="https://img.irroba.com.br/filters:fill(fff):quality(80)/shoeboxs/catalog/produtos/base-importada-2/78905498.jpg" alt="HEINEKEN">
          <div class="card-content">
            <h3>HEINEKEN</h3>
            <p>amargor equilibrado e refrescante</p>
            <div class="card-bottom">
              <div class="price">R$ 8,50</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="cerveja-brahma" data-name="BRAHMA" data-price="4.50">
          <img src="https://carrefourbrfood.vtexassets.com/arquivos/ids/58541306/cerveja-brahma-duplo-malte-puro-malte-600ml-garrafa-1.jpg?v=637898754390770000" alt="BRAHMA">
          <div class="card-content">
            <h3>BRAHMA</h3>
            <p>O sabor cl√°ssico que nunca sai de moda.</p>
            <div class="card-bottom">
              <div class="price">R$ 4,50</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="cerveja-coronita" data-name="CORONITA" data-price="5.00">
          <img src="https://santaluzia.vteximg.com.br/arquivos/ids/964860-1000-1000/3003850.jpg?v=637384985015230000" alt="CORONITA">
          <div class="card-content">
            <h3>CORONITA</h3>
            <p>Clara, suave e com final seco.</p>
            <div class="card-bottom">
              <div class="price">R$ 5,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="cerveja-budweiser" data-name="BUDWEISER" data-price="6.00">
          <img src="https://carrefourbrfood.vtexassets.com/arquivos/ids/134558686/cerveja-budweiser-american-lager-330ml-long-neck-1.jpg?v=638364442432970000" alt="BUDWEISER">
          <div class="card-content">
            <h3>BUDWEISER</h3>
            <p>Leve, com sabor cl√°ssico e refrescante.</p>
            <div class="card-bottom">
              <div class="price">R$ 6,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- VINHO -->
    <section class="container" id="vinho">
      <h2>üç∑ Vinho</h2>
      <div class="grid">
        <div class="card" data-id="vinho-tinto" data-name="Vinho Tinto Reservado" data-price="89.90">
          <img src="https://tse3.mm.bing.net/th/id/OIP.PjHfEF7mccV1Pj4I26LS7wHaHa?rs=1&pid=ImgDetMain&o=7&rm=3" alt="Vinho Tinto">
          <div class="card-content">
            <h3>Vinho Tinto Reservado</h3>
            <p>Encorpado e com aroma de frutas vermelhas.</p>
            <div class="card-bottom">
              <div class="price">R$ 89,90</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="vinho-branco" data-name="Vinho Branco Suave" data-price="69.90">
          <img src="https://ingavinhos.vtexassets.com/arquivos/ids/161323/Vinho-Naturelle-Frisante-Suave-Branco---Casa-Valduga-750-ml.png?v=637969716709170000" alt="Vinho Branco">
          <div class="card-content">
            <h3>Vinho Branco Suave</h3>
            <p>Equil√≠brio entre frescor e do√ßura.</p>
            <div class="card-bottom">
              <div class="price">R$ 69,90</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="vinho-rose" data-name="Vinho Ros√© Delicado" data-price="79.90">
          <img src="https://lebiscuit.vtexassets.com/arquivos/ids/17511095/17255358461374.jpg?v=638611326489770000" alt="Vinho Ros√©">
          <div class="card-content">
            <h3>Vinho Ros√© Delicado</h3>
            <p>Notas florais e sabor frutado refrescante.</p>
            <div class="card-bottom">
              <div class="price">R$ 79,90</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="vinho-chileno" data-name="Vinho Seco Chileno" data-price="99.90">
          <img src="https://lebiscuit.vtexassets.com/arquivos/ids/19934355/17295656717561.jpg?v=638651822521300000" alt="Vinho Seco">
          <div class="card-content">
            <h3>Vinho Seco Chileno</h3>
            <p>Produzido com uvas selecionadas do Vale Central.</p>
            <div class="card-bottom">
              <div class="price">R$ 99,90</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="vinho-espumante" data-name="Espumante Brut" data-price="119.90">
          <img src="https://tse2.mm.bing.net/th/id/OIP.SaJnvRye-XBszvJ-lASihAHaHa?rs=1&pid=ImgDetMain&o=7&rm=3" alt="Vinho Espumante">
          <div class="card-content">
            <h3>Espumante Brut</h3>
            <p>Perfeito para celebra√ß√µes e momentos especiais.</p>
            <div class="card-bottom">
              <div class="price">R$ 119,90</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- REFRIGERANTE -->
    <section class="container" id="refrigerante">
      <h2>ü•§ Refrigerante</h2>
      <div class="grid">
        <div class="card" data-id="ref-coca" data-name="Coca Cola" data-price="12.00">
          <img src="https://th.bing.com/th/id/R.af9603a7cd432ace6d92f069a3527068?rik=f3Xz0T8orJur1A&pid=ImgRaw&r=0" alt="Coca Cola">
          <div class="card-content">
            <h3>Coca Cola</h3>
            <p>O sabor cl√°ssico com g√°s na medida certa.</p>
            <div class="card-bottom">
              <div class="price">R$ 7,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="ref-tubaina" data-name="TUBAINA" data-price="8.00">
          <img src="https://tse2.mm.bing.net/th/id/OIP.pZaM_7TOztIWLFSw-VVR6wHaHa?rs=1&pid=ImgDetMain&o=7&rm=3" alt="TUBAINA">
          <div class="card-content">
            <h3>TUBAINA</h3>
            <p>Refrescante, leve e saborosa.</p>
            <div class="card-bottom">
              <div class="price">R$ 8,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="ref-guarana" data-name="Guaran√° Antarctica" data-price="10.00">
          <img src="https://s3-sa-east-1.amazonaws.com/files-sc.sigecloud.com.br/Producao/34ef3c37-95cf-49f4-bcc8-41bce77d8188/ImagensProdutos/66fc49489015e5c5b5bb8b06_600x600.jpeg" alt="Guaran√° Antarctica">
          <div class="card-content">
            <h3>Guaran√° Antarctica</h3>
            <p>Ideal para acompanhar qualquer refei√ß√£o.</p>
            <div class="card-bottom">
              <div class="price">R$ 10,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="ref-pepsi" data-name="PEPSI" data-price="10.00">
          <img src="https://www.imigrantesbebidas.com.br/img/bebida/images/products/full/1879-refrigerante-pepsi-pet-2l.jpg?s=39d4a16bf22ba0059b91b4a2c2086d35" alt="PEPSI">
          <div class="card-content">
            <h3>PEPSI</h3>
            <p>G√°s suave e sabor marcante.</p>
            <div class="card-bottom">
              <div class="price">R$ 10,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="ref-it" data-name="IT" data-price="6.00">
          <img src="https://down-br.img.susercontent.com/file/b22f8372cad9493f2d0a0eb28d540ae3" alt="IT">
          <div class="card-content">
            <h3>IT</h3>
            <p>Sabor aut√™ntico e energ√©tico.</p>
            <div class="card-bottom">
              <div class="price">R$ 6,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- GIN -->
    <section class="container" id="gin">
      <h2>üç∏ Gin e Licor</h2>
      <div class="grid">
        <div class="card" data-id="gin-ballena" data-name="Ballena" data-price="130.00">
          <img src="https://gastronominho.com.br/wp-content/uploads/2023/02/Ballena-768x576.jpg" alt="Ballena">
          <div class="card-content">
            <h3>Ballena</h3>
            <p>Bot√¢nicos equilibrados com toque de de morango.</p>
            <div class="card-bottom">
              <div class="price">R$ 130,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="gin-dober" data-name="Dober" data-price="30.00">
          <img src="https://rbatacadista.com.br/wp-content/uploads/2023/04/15185623980_melancia.jpg" alt="Dober">
          <div class="card-content">
            <h3>Dober</h3>
            <p>sabor doce de melancia</p>
            <div class="card-bottom">
              <div class="price">R$ 30,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="gin-rocks" data-name="ROCKS" data-price="35.00">
          <img src="https://images.tcdn.com.br/img/img_prod/774261/gin_rocks_strawberry_1000ml_2679_1_2f56ff64a67091ba4a9cb4ed437b86ad.png" alt="ROCKS">
          <div class="card-content">
            <h3>ROCKS</h3>
            <p>Toque floral e delicado, ideal para drinks leves.</p>
            <div class="card-bottom">
              <div class="price">R$ 35,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="gin-eternity" data-name="Eternity" data-price="40.00">
          <img src="https://down-br.img.susercontent.com/file/br-11134207-7r98o-m3mf32h0ftgbba" alt="Eternity">
          <div class="card-content">
            <h3>Eternity</h3>
            <p>Um aroma celestial com equil√≠brio perfeito entre frescor e eleg√¢ncia</p>
            <div class="card-bottom">
              <div class="price">R$ 40,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="gin-tanqueray" data-name="Tanqueray" data-price="130.00">
          <img src="https://tse4.mm.bing.net/th/id/OIP.7m1pjUaEMF5ozPIonodJhQHaHa?rs=1&pid=ImgDetMain&o=7&rm=3" alt="Tanqueray">
          <div class="card-content">
            <h3>Tanqueray</h3>
            <p>Cl√°ssico, refinado e destilado para paladares exigentes</p>
            <div class="card-bottom">
              <div class="price">R$ 130,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- WHISKY -->
    <section class="container" id="whisky">
      <h2>ü•É Whisky</h2>
      <div class="grid">
        <div class="card" data-id="whisky-jw" data-name="Johnnie Walker Double Black" data-price="170.00">
          <img src="https://media.danmurphys.com.au/dmo/product/227177-1.png" alt="Johnnie Walker Double Black">
          <div class="card-content">
            <h3>Johnnie Walker Double Black</h3>
            <p>Feito para paladares exigentes</p>
            <div class="card-bottom">
              <div class="price">R$ 170,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="whisky-whitehorse" data-name="Cavalo Branco" data-price="80.00">
          <img src="https://a-static.mlcdn.com.br/1500x1500/kit-whisky-white-horse-blended-1l-cavalo-branco-3-unidades/pingucariadoporto/12604121398/9e1708fb32738e0c502b97df384330f0.jpg" alt="Cavalo Branco">
          <div class="card-content">
            <h3>Cavalo Branco</h3>
            <p>Intenso, suave e perfeitamente equilibrado</p>
            <div class="card-bottom">
              <div class="price">R$ 80,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="whisky-oldparr" data-name="Old Parr 12 Anos" data-price="140.00">
          <img src="https://a-static.mlcdn.com.br/1500x1500/whisky-old-parr-12-anos-750-ml/efacil/185026/880f14e8b7fd3d7ec79c1bee217effb4.jpg" alt="Old Parr 12 Anos">
          <div class="card-content">
            <h3>Old Parr 12 Anos</h3>
            <p>O equil√≠brio perfeito entre tradi√ß√£o e intensidade</p>
            <div class="card-bottom">
              <div class="price">R$ 140,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="whisky-buffalo" data-name="Buffalo Trace Bourbon" data-price="180.00">
          <img src="https://th.bing.com/th/id/R.82299623b87b9b989f2378186f6a080e?rik=U97BPpudc5ZvOg&riu=http%3a%2f%2fwww.remedyliquor.com%2fcdn%2fshop%2ffiles%2fbuffalo-trace-bourbon.jpg%3fv%3d1720586404&ehk=MgobpHfDoyGKfyXikKOvOlxIBvHNl75zi%2buiTmohQrY%3d&risl=&pid=ImgRaw&r=0" alt="Buffalo Trace Bourbon">
          <div class="card-content">
            <h3>Buffalo Trace Bourbon</h3>
            <p>Tr√™s vezes destilado, suave e arom√°tico</p>
            <div class="card-bottom">
              <div class="price">R$ 180,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>

        <div class="card" data-id="whisky-jack" data-name="Jack Daniel‚Äôs Tennessee Whiskey" data-price="150.00">
          <img src="https://tse3.mm.bing.net/th/id/OIP.FdMx1SCOYstP8QHiv7yQYAHaHa?rs=1&pid=ImgDetMain&o=7&rm=3" alt="Jack Daniel‚Äôs">
          <div class="card-content">
            <h3>Jack Daniel‚Äôs Tennessee Whiskey</h3>
            <p>O cl√°ssico que nunca sai de moda</p>
            <div class="card-bottom">
              <div class="price">R$ 150,00</div>
              <button class="btn-add" type="button">Adicionar</button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- cart button -->
  <button id="cartBtn" class="cart-button" aria-label="Abrir carrinho">
    <span class="icon" aria-hidden="true"></span>
    <span id="cartCount" class="cart-badge" style="display:none">0</span>
  </button>

  <!-- overlay -->
  <div id="overlay" class="overlay" aria-hidden="true"></div>

  <!-- cart sidebar -->
  <aside id="cartSidebar" class="cart-sidebar" aria-hidden="true">
    <div class="cart-header">
      <h3>Seu Carrinho</h3>
      <button id="closeCart" class="cart-close" aria-label="Fechar carrinho">Fechar ‚úï</button>
    </div>

    <div id="cartItems" class="cart-items" aria-live="polite">
      <!-- itens dinamicamente inseridos aqui -->
      <p id="emptyMsg" style="color:var(--muted); padding: 8px 0;">Seu carrinho est√° vazio ‚Äî adicione produtos.</p>
    </div>

    <div class="cart-footer">
      <div class="cart-total">
        <span>Total</span>
        <span id="cartTotal">R$ 0,00</span>
      </div>
      <button id="checkoutBtn" class="checkout-btn">Finalizar compra</button>
    </div>
  </aside>

  <footer>
    ¬© 2025 <span>AdegaCai√ßara</span> ‚Äî Todos os direitos reservados.
  </footer>

  <script>
    // Utils
    const formatCurrency = (value) =>
      value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

    // State: cart object with productId => { id, name, price, qty, img }
    const cart = {};

    const cartBtn = document.getElementById('cartBtn');
    const cartCount = document.getElementById('cartCount');
    const cartSidebar = document.getElementById('cartSidebar');
    const overlay = document.getElementById('overlay');
    const cartItemsEl = document.getElementById('cartItems');
    const cartTotalEl = document.getElementById('cartTotal');
    const emptyMsg = document.getElementById('emptyMsg');
    const checkoutBtn = document.getElementById('checkoutBtn');
    const closeCart = document.getElementById('closeCart');

    // open/close cart
    function openCart() {
      cartSidebar.classList.add('open');
      overlay.classList.add('show');
      cartSidebar.setAttribute('aria-hidden', 'false');
      overlay.setAttribute('aria-hidden', 'false');
    }
    function closeCartFn() {
      cartSidebar.classList.remove('open');
      overlay.classList.remove('show');
      cartSidebar.setAttribute('aria-hidden', 'true');
      overlay.setAttribute('aria-hidden', 'true');
    }

    cartBtn.addEventListener('click', openCart);
    overlay.addEventListener('click', closeCartFn);
    closeCart.addEventListener('click', closeCartFn);

    // Attach add-to-cart on all buttons
    document.querySelectorAll('.card').forEach(card => {
      const addBtn = card.querySelector('.btn-add');
      if (!addBtn) return;
      addBtn.addEventListener('click', () => {
        const id = card.dataset.id;
        const name = card.dataset.name;
        const price = parseFloat(card.dataset.price);
        const img = card.querySelector('img')?.src || '';
        addToCart({ id, name, price, img });
      });
    });

    function addToCart(product) {
      if (!product || !product.id) return;
      if (!cart[product.id]) {
        cart[product.id] = {
          id: product.id,
          name: product.name,
          price: product.price,
          qty: 1,
          img: product.img
        };
      } else {
        cart[product.id].qty += 1;
      }
      refreshCartUI();
      animateAddToCart();
    }

    function removeFromCart(productId) {
      delete cart[productId];
      refreshCartUI();
    }

    function changeQty(productId, delta) {
      if (!cart[productId]) return;
      cart[productId].qty += delta;
      if (cart[productId].qty <= 0) {
        removeFromCart(productId);
      } else {
        refreshCartUI();
      }
    }

    function getCartCount() {
      return Object.values(cart).reduce((s, it) => s + it.qty, 0);
    }

    function getCartTotal() {
      return Object.values(cart).reduce((s, it) => s + it.qty * it.price, 0);
    }

    // update cart UI
    function refreshCartUI() {
      // update badge
      const count = getCartCount();
      if (count > 0) {
        cartCount.style.display = 'inline-block';
        cartCount.textContent = count;
      } else {
        cartCount.style.display = 'none';
      }

      // update items list
      cartItemsEl.innerHTML = '';
      const items = Object.values(cart);
      if (items.length === 0) {
        cartItemsEl.appendChild(emptyMsg);
      } else {
        // ensure emptyMsg is not inside
        if (emptyMsg.parentNode) emptyMsg.parentNode.removeChild(emptyMsg);
        items.forEach(item => {
          const itemEl = document.createElement('div');
          itemEl.className = 'cart-item';
          itemEl.innerHTML = `
            <img src="${item.img}" alt="${escapeHtml(item.name)}" />
            <div class="cart-item-body">
              <strong>${escapeHtml(item.name)}</strong>
              <small>${formatCurrency(item.price)} cada</small>
              <div style="margin-top:6px; display:flex; gap:8px; align-items:center;">
                <div class="cart-qty" aria-live="polite">
                  <button class="qty-btn" data-action="dec" data-id="${item.id}">‚àí</button>
                  <span class="qty-value">${item.qty}</span>
                  <button class="qty-btn" data-action="inc" data-id="${item.id}">Ôºã</button>
                </div>
                <button class="cart-item-remove" data-id="${item.id}">Remover</button>
              </div>
            </div>
            <div style="text-align:right; min-width:72px;">
              <div style="font-weight:700; color:var(--accent)">${formatCurrency(item.price * item.qty)}</div>
            </div>
          `;
          cartItemsEl.appendChild(itemEl);
        });

        // attach qty and remove handlers
        cartItemsEl.querySelectorAll('.qty-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const action = btn.dataset.action;
            const id = btn.dataset.id;
            if (action === 'inc') changeQty(id, 1);
            else if (action === 'dec') changeQty(id, -1);
          });
        });
        cartItemsEl.querySelectorAll('.cart-item-remove').forEach(btn => {
          btn.addEventListener('click', () => {
            const id = btn.dataset.id;
            removeFromCart(id);
          });
        });
      }

      // update total
      const total = getCartTotal();
      cartTotalEl.textContent = formatCurrency(total);
    }

    // small visual feedback when add
    function animateAddToCart() {
      cartBtn.animate([
        { transform: 'scale(1)' },
        { transform: 'scale(1.06)' },
        { transform: 'scale(1)' }
      ], { duration: 220, easing: 'ease' });
    }

    // safe text escape for alt/name
    function escapeHtml(text) {
      return String(text)
        .replace(/&/g, '&amp;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#39;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;');
    }

    // Checkout mock
    checkoutBtn.addEventListener('click', () => {
      const total = getCartTotal();
      if (total === 0) {
        alert('Seu carrinho est√° vazio.');
        return;
      }
      // Simula√ß√£o simples: s√≥ limpa carrinho e mostra valor
      alert('Compra simulada ‚Äî total: ' + formatCurrency(total) + '\nObrigado pela prefer√™ncia!');
      // esvazia carrinho
      Object.keys(cart).forEach(k => delete cart[k]);
      refreshCartUI();
      closeCartFn();
    });

    // initialize UI
    refreshCartUI();
  </script>
</body>
</html>